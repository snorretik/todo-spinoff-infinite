(()=>{"use strict";function e(e,t){t in e?console.log(`${t}`):(e[t]=[],function(e){let t=document.querySelector("#proSelect"),i=document.createElement("option");i.setAttribute("id",`selector${e}`),i.setAttribute("value",`${e}`),i.textContent=`${e}`,t.appendChild(i)}(t))}function t(e){let t=document.querySelector("#proSelect").value,i=document.querySelector("#listDisplay"),o=0;for(;i.firstChild;)i.removeChild(i.firstChild);for(let i=0;i<e[t].length;i++)0==e[t][i].edit?(l(i),1==e[t][i].expanded?(n(i),o+=1):console.log("expanded is false... dus...")):(r(i),o+=1);function l(l){console.log(`${l+1+o}, bij showlistbasics`),i.style.cssText=`grid-template-rows: repeat(${l+1+o}, 22px)`;let n=document.createElement("label");n.setAttribute("id",`titleNo${l+1+o}`),n.setAttribute("class","titleDis"),n.textContent=e[t][l].title,e[t][l].checked?n.style.textDecoration="line-through":n.style.textDecoration="none",n.style.gridArea=`${l+1+o}/1/${l+1+o}/2`;let r=document.createElement("label");r.setAttribute("id",`dueDateNo${l+1+o}`),r.setAttribute("class","dateDis"),r.textContent=e[t][l].dueDate,e[t][l].checked?r.style.textDecoration="line-through":r.style.textDecoration="none",r.style.gridArea=`${l+1+o}/2/${l+1+o}/3`;let c=document.createElement("button");c.setAttribute("id",`expandNo${l+1+o}`),c.setAttribute("class","expandDis"),e[t][l].expandedVal?c.textContent="/\\":c.textContent="\\/",c.style.gridArea=`${l+1+o}/3/${l+1+o}/4`;let d=document.createElement("button");d.setAttribute("id",`deleteNo${l+1+o}`),d.setAttribute("class","deleteDis"),d.textContent="Del",d.style.gridArea=`${l+1+o}/4/${l+1+o}/5`;let u=document.createElement("button");u.setAttribute("id",`priorityNo${l+1+o}`),u.setAttribute("class","priorityDis"),u.style.gridArea=`${l+1+o}/5/${l+1+o}/6`,u.style.backgroundColor=`${e[t][l].priority}`;let s=document.createElement("input");s.setAttribute("type","checkbox"),s.setAttribute("id",`checkNo${l+1+o}`),s.setAttribute("class","checkDis"),e[t][l].checked?s.checked=!0:s.checked=!1,s.style.gridArea=`${l+1+o}/6/${l+1+o}/7`,i.appendChild(n),i.appendChild(r),i.appendChild(c),i.appendChild(d),i.appendChild(u),i.appendChild(s)}function n(l){let n=document.createElement("label");n.setAttribute("id",`descripLabelNo${l+2+o}`),n.setAttribute("class","descripLabel"),n.textContent=e[t][l].description,e[t][l].checked?n.style.textDecoration="line-through":n.style.textDecoration="none",n.style.gridArea=`${l+2+o}/1/${l+2+o}/2`;let r=document.createElement("label");r.setAttribute("id",`proNameLabelNo${l+2+o}`),r.setAttribute("class","proNameLabel"),r.textContent=e[t][l].proName,e[t][l].checked?r.style.textDecoration="line-through":r.style.textDecoration="none",r.style.gridArea=`${l+2+o}/2/${l+2+o}/3`;let c=document.createElement("button");c.setAttribute("id",`editButtonNo${l+2+o}`),c.setAttribute("class","editButton"),c.textContent="Edit",c.style.gridArea=`${l+2+o}/4/${l+2+o}/5`,i.appendChild(n),i.appendChild(r),i.appendChild(c)}function r(l){i.style.cssText=`grid-template-rows: repeat(${l+1+o}, 22px)`;let n=document.createElement("input");n.setAttribute("id",`input1No${l+1+o}`),n.setAttribute("class","editInputTitle"),n.value=e[t][l].title,n.style.gridArea=`${l+1+o}/1/${l+1+o}/2`;let r=document.createElement("input");r.setAttribute("id",`input2No${l+1+o}`),r.setAttribute("class","editInputDue"),r.value=e[t][l].dueDate,r.style.gridArea=`${l+1+o}/2/${l+1+o}/3`;let c=document.createElement("button");c.setAttribute("id",`editPriorityNo${l+1+o}`),c.setAttribute("class","editPriorityDis"),c.style.gridArea=`${l+1+o}/5/${l+1+o}/6`,c.style.backgroundColor=`${e[t][l].priority}`;let d=document.createElement("input");d.setAttribute("id",`input3No${l+2+o}`),d.setAttribute("class","editInputDescrip"),d.value=e[t][l].description,d.style.gridArea=`${l+2+o}/1/${l+2+o}/2`;let u=document.createElement("input");u.setAttribute("id",`input4No${l+2+o}`),u.setAttribute("class","editInputProName"),u.value=e[t][l].proName,u.style.gridArea=`${l+2+o}/2/${l+2+o}/3`;let s=document.createElement("button");s.setAttribute("id",`saveButtonNo${l+2+o}`),s.setAttribute("class","saveButtonDis"),s.textContent="Save",s.style.gridArea=`${l+2+o}/4/${l+2+o}/5`,i.appendChild(n),i.appendChild(r),i.appendChild(c),i.appendChild(d),i.appendChild(u),i.appendChild(s)}}let i={main:[]};function o({title:e,dueDate:t,description:i,proName:o,priority:l}){this.title=e,this.dueDate=t,this.description=i,this.proName=o,this.priority=l,this.checked=!1,this.expanded=!1,this.edit=!1}o.prototype.prioritySwitch=function(){switch(this.priority){case"yellow":this.priority="orange";break;case"orange":this.priority="red";break;case"red":this.priority="yellow";break;default:console.log(this.priority)}},o.prototype.expandedSwitch=function(){this.expanded?this.expanded=!1:this.expanded=!0},o.prototype.checkedSwitch=function(){this.checked?this.checked=!1:this.checked=!0},o.prototype.editSwitch=function(){this.edit?this.edit=!1:this.edit=!0},function(){function l(){!function(){let e=document.querySelector("#proSelect").value,o=0;for(let n=0;n<i[e].length;n++)0==i[e][n].edit?(console.log(`${n+1+o}, bij addbutton1events`),document.querySelector(`#expandNo${n+1+o}`).addEventListener("click",(o=>{i[e][n].expandedSwitch(),t(i),l()}))):1==i[e][n].edit&&console.log("edit is true expand"),1==i[e][n].expanded&&(o+=1)}(),function(){let e=document.querySelector("#proSelect").value,o=0;for(let n=0;n<i[e].length;n++)0==i[e][n].edit?document.querySelector(`#priorityNo${n+1+o}`).addEventListener("click",(o=>{i[e][n].prioritySwitch(),t(i),l()})):1==i[e][n].edit&&console.log("edit is true priorityNormal"),1==i[e][n].expanded&&(o+=1)}(),function(){let e=document.querySelector("#proSelect").value,o=0;for(let n=0;n<i[e].length;n++)0==i[e][n].edit?document.querySelector(`#checkNo${n+1+o}`).addEventListener("click",(o=>{i[e][n].checkedSwitch(),t(i),l()})):1==i[e][n].edit&&console.log("edit is true toggle"),1==i[e][n].expanded&&(o+=1)}(),function(){let e=document.querySelector("#proSelect").value,t=0;for(let o=0;o<i[e].length;o++)0==i[e][o].edit?document.querySelector(`#deleteNo${o+1+t}`).addEventListener("click",(t=>{n(e,o)})):1==i[e][o].edit&&console.log("edit is true delete"),1==i[e][o].expanded&&(t+=1)}(),function(){let e=document.querySelector("#proSelect").value,o=0;for(let n=0;n<i[e].length;n++)0==i[e][n].edit&&1==i[e][n].expandedVal?(document.querySelector(`#editButtonNo${n+2+o}`).addEventListener("click",(o=>{i[e][n].editSwitch(),t(i),l()})),o+=1):1==i[e][n].edit&&1==i[e][n].expandedVal&&(o+=1)}(),function(){let o=document.querySelector("#proSelect").value,r=0,c=!1,d=[];for(let n=0;n<i[o].length;n++){if(1==i[o][n].edit){let s=document.querySelector(`#saveButtonNo${n+2+r}`),a=document.querySelector(`#input1No${n+1+r}`),p=document.querySelector(`#input2No${n+1+r}`),h=document.querySelector(`#input3No${n+2+r}`),y=document.querySelector(`#input4No${n+2+r}`);s.addEventListener("click",(r=>{i[o][n].titleChange(a.value),i[o][n].dueDateChange(p.value),i[o][n].descripChange(h.value),i[o][n].proNameVal!=y.value?(i[o][n].proNameChange(y.value),i[o][n].editSwitch(),i[o][n].expandedSwitch(),e(i,y.value),i[y.value].push(i[o][n]),d.push(n),(c=!0)&&u(d),c=!1):(i[o][n].editSwitch(),t(i),l())})),r+=1}else 1==i[o][n].expanded&&(r+=1,console.log("test"));n+1==i[o].length&&(c=!0)}function u(e){for(let t=0;t<e.length;t++)console.log("dubbeltest"),n(o,e[t]),console.log(i)}}()}function n(e,o){if(i[e].splice(o,1),0==i[e].length&&"main"!=e){let t=document.querySelector("#proSelect"),o=document.querySelector(`#selector${e}`);t.removeChild(o),delete i[e]}window.localStorage.clear(),window.localStorage.setItem("save",JSON.stringify(i)),t(i),l()}document.querySelector("#makeButton").addEventListener("click",(n=>{let r=function(){let e=[],t=document.querySelector("#titleInput");e.push(t.value);let i=document.querySelector("#dueInput");e.push(i.value);let o=document.querySelector("#descrInput");e.push(o.value);let l=document.querySelector("#proNameInput");e.push(l.value);let n=document.querySelector("#priorityInput");return e.push(n.value),e}();const c=new o({title:r[0],dueDate:r[1],description:r[2],proName:r[3],priority:r[4]});console.log(c),e(i,r[3]),i[r[3]].push(c),window.localStorage.clear(),window.localStorage.setItem("save",JSON.stringify(i)),t(i),l()})),document.querySelector("#proSelect").addEventListener("click",(e=>{t(i),l()})),document.querySelector("#sync").addEventListener("click",(n=>{if(window.localStorage.getItem("save")){let n=window.localStorage.getItem("save");!function(t){for(let l in t)if(0!=t[l].length)for(let n=0;n<t[l].length;n++){let r=t[l][n].title,c=t[l][n].dueDate,d=t[l][n].description,u=t[l][n].proName,s=t[l][n].priority;console.log(r);const a=new o({title:r,dueDate:c,description:d,proName:u,priority:s});e(i,u),i[l].push(a)}}(JSON.parse(n)),t(i),l()}}))}()})();